include top-menu
div(ng-controller='MainCTRL').ui.cards
    div(ng-repeat='player in players track by $index', ng-finish-render="ngRepeatFinished").ui.card
        div(ng-class='{"steam-offline": !player.steam.personastate, "steam-playing": player.steam.gameextrainfo, "steam-online": player.steam.personastate >= 1 && !player.steam.gameextrainfo}').content
            .right.floated.meta
                .ui.statistic.mini.margin-none
                    .value {{player.update | timeAgo | msToTime}}
                        i(ng-click='updatePlayer(player.steamid)').refresh.icon
                    div(title='{{player.steam.personaname | subString:10}}').label {{player.alias | subString:10}}
            a(href='{{player.steam.profileurl}}', target="_blank")
                img(ng-src='http://cdn.akamai.steamstatic.com/steamcommunity/public/images/avatars/fe/fef49e7fa7e1997310d705b2a6158ff8dc1cdfeb_full.jpg', ng-show='!player.steam.avatarfull').ui.avatar.image
                img(ng-src='{{player.steam.avatarfull}}', ng-show='player.steam.avatarfull').ui.avatar.image
                .ui.label.level {{player.level}}
        .content
            div(ng-show='player.steam.gameextrainfo').right.floated.meta in {{player.steam.gameextrainfo | subString:20}}
            .ui.mini.horizontal.statistics
                .statistic.margin-none
                    .value # {{player.index}}
                .statistic.margin-none
                    .value {{player.skill | toFix}}
                    .label skill
                .statistic.margin-none
                    .value {{player.score | toFix}}
                    .label score
                .statistic.margin-none
                    .value {{player.xp}}
                    .label XP
                .statistic.margin-none
                    .value
                        div(ng-repeat='badge in player.badges track by $index', class='badge {{badge}}')
        .content
            div(data-value="{{player.alien_playtime}}", data-total="{{player.time_played}}", data-content='{{player.alien_playtime | msToTime}}', data-position="right center").ui.green.small.progress
                .bar
                    .progress
            div(data-value="{{player.marine_playtime}}", data-total="{{player.time_played}}", data-content='{{player.marine_playtime | msToTime}}', data-position="right center").ui.blue.small.progress
                .bar
                    .progress
            div(data-value="{{player.commander_time}}", data-total="{{player.time_played}}", data-content='{{player.commander_time | msToTime}}', data-position="right center").ui.teal.small.progress
                .bar
                    .progress
    include modal-faq